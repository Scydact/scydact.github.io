'use strict';function _defineProperty(a,c,b){return c in a?Object.defineProperty(a,c,{value:b,enumerable:!0,configurable:!0,writable:!0}):a[c]=b,a}var styles="\n <style>\n .bg-white {\n background-color: white;\n }\n\n .up-arrow {\n border: solid black;\n border-width: 0 3px 3px 0;\n display: inline-block;\n padding: 3px;\n transform: rotate(-135deg);\n -webkit-transform: rotate(-135deg);\n }\n\n .text-green {\n color: darkgreen;\n }\n\n .text-red {\n color: darkred;\n }\n\n .available-size {\n font-size: xx-large;\n text-align: center;\n }\n\n .text-center {\n text-align: center;\n }\n\n .scroll3{\n width: 100%;\n position: relative;\n overflow: visible;\n }\n </style>\n";
$("body").append(styles);var courseInformation=[],daysOfWeek={L:"LUNES",K:"MARTES",M:"MI\u00c9RCOLES",J:"JUEVES",V:"VIERNES",S:"S\u00c1BADO",D:"DOMINGO"},MAX_HEIGHT_ALLOWED=422;alert("\u00a1Asistente activado!");$("tr[name ^= 'trOferta'] td input[name ^= 'chk']").on("change",function(){checkVisibility()});
function checkVisibility(){var a=setInterval(function(){$("#ImgLoading").is(":visible")||($("#divOfertaAcademica").removeClass("scroll2").addClass("scroll3"),$("#divOfertaAcademica").height()>MAX_HEIGHT_ALLOWED&&$("#divOfertaAcademica").attr("style","overflow:overlay"),clearInterval(a),courseInformation=[],init())},1E3)}
function init(){$("tr[name ^= 'TRHorario'] input[name ^= 'chk']").each(function(a,c){if(a=$(c).attr("onclick"))a=a.split("&"),parseUrl(a)});$("tr[name ^= 'TRHorario']").mouseenter(function(a){var c=$("tr[name ^= 'TRHorario']").index(a.currentTarget);$("#tableOferta").append(createTableInfo(c,a))}).mouseleave(function(){$("#table-details").remove();$(".up-arrow").remove()})}function parseUrl(a){a=extractData(a);courseInformation.push(a)}
function extractData(a){var c=["disponibles","hrarel","hraaul","hrakey"];a=a.map(function(b){return b=b.split("="),!!c.includes(b[0])&&_defineProperty({},b[0],b[1])}).filter(Boolean);return mergeArrayOfObject(a)}function mergeArrayOfObject(a){return a.reduce(function(c,b){for(var d in b)b.hasOwnProperty(d)&&(c[d]=b[d]);return c},{})}
function createTableInfo(a,c){var b=courseInformation[a];if(b){var d=$(c.currentTarget).position();getDayOfWeek(b.hrarel,c.currentTarget,a);a="";b.hrarel.includes("-")&&(a=generateSecundRow(b));return'\n <table border="2px black solid" id="table-details" style="position: absolute; top: '+(d.top+50)+'px; left: 80px; z-index: 9000;">\n <i class="up-arrow" style="position: absolute; top: '+(d.top+40)+'px; left: 260px"></i>\n <thead>\n <tr class="text-center">\n <th>Cupos</th>\n <th>D\u00eda(s)</th>\n <th>H. Entrada</th>\n <th>H. Salida</th>\n <th>Aula</th>\n <th>Grupo</th>\n </tr>\n </thead>\n <tbody>\n <tr class=\'bg-white text-center\'>\n <td rowspan="2" class=\''+
(+b.disponibles?"text-green":"text-red")+" available-size'>"+b.disponibles+"</td>\n <td>"+b.dayOne+"</td>\n <td>"+b.startHourOne+"</td>\n <td>"+b.endHourOne+'</td>\n <td rowspan="2">'+b.hraaul+'</td>\n <td rowspan="2">'+b.hrakey+"</td>\n </tr>\n "+a+"\n </tbody>\n </table>\n "}}function generateSecundRow(a){return"<tr class='bg-white text-center'>\n <td>"+a.dayTwo+"</td>\n <td>"+a.startHourTwo+"</td>\n <td>"+a.endHourTwo+"</td>\n </tr>"}
function getDayOfWeek(a,c,b){var d="";if(a.includes("-")){a=a.split("-");var e=daysOfWeek[a[0]]+b;d=daysOfWeek[a[1]]+b;courseInformation[b].dayOne=daysOfWeek[a[0]];courseInformation[b].dayTwo=daysOfWeek[a[1]]}else e=daysOfWeek[a]+b,courseInformation[b].dayOne=daysOfWeek[a];e&&(e=extractDate(e,c),courseInformation[b].startHourOne=e.startHour,courseInformation[b].endHourOne=e.endHour);d&&(c=extractDate(d,c),courseInformation[b].startHourTwo=c.startHour,courseInformation[b].endHourTwo=c.endHour)}
function extractDate(a,c){a="#"+a.replace("\u00c1","A").replace("\u00c9","E");a=$(c).find(a).text().replace(/[^\d:/\s]/g,"");return a=a.split(" / "),{startHour:extractHours(a[0]),endHour:extractHours(a[1])}}function extractHours(a){var c=a.split(":");a=+c[0];var b=" AM";return 12<=a&&(b=" PM"),12<a&&(a-=12),c[0]=a,c.join(":")+b};