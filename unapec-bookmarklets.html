<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UNAPEC Bookmarklets</title>
    <link rel="stylesheet" href="style.css">
    <style>
        .bookmarklet {
            display: block;
            text-decoration: none;
            background: dodgerblue;
            padding: .5rem;
            margin-bottom: .5em;
            color: white;
            border-radius: .5rem;
            box-shadow: 0 0 5px rgba(0,0,0,.2);
        }

        article {
            background: lightblue;
            padding: .5em .5em 1em;
            margin: .5em;
            border-radius: .5em;
            box-shadow: 0 0 5px rgba(0,0,0,.2);
        }
    </style>
</head>

<body>
    <h1>Bookmarklets UNAPEC</h1>

    <h2>Como usar?</h2>
    <ol>
        <li>Arrastrar el Bookmarklet (cuadro azul) a la barra de bookmarks.</li>
        <li>En la pagina deseada, "ejecutar" el bookmark desde la barra de bookmarks.</li>
    </ol>

    <h3>Observaciones:</h2>
    <ul>
        <li>El uso de estos no causa efectos permanentes. Se puede restaurar la pagina simplemente refrescandola (F5).</li>
        <li>
            Para poder aplicarlos automaticamente (sin tener que dar click a un Bookmark), sería necesaria una extensión como 
            <a href="https://www.tampermonkey.net/">Tampermonkey</a>,
            que ejecute los scripts de forma autonoma.
            El proposito de estos bookmarklets es poder ejecutar los scripts sin tener que instalar una extensión.
        </li>
    </ul>

    <h2>Bookmarklets</h2>
    <div class="flex">
        <article>
            <a class=bookmarklet
                href="javascript:var%20%24jscomp%3D%24jscomp%7C%7C%7B%7D%3B%24jscomp.scope%3D%7B%7D%3B%24jscomp.createTemplateTagFirstArg%3Dfunction(a)%7Breturn%20a.raw%3Da%7D%3B%24jscomp.createTemplateTagFirstArgWithRaw%3Dfunction(a%2Cb)%7Ba.raw%3Db%3Breturn%20a%7D%3B%24jscomp.arrayIteratorImpl%3Dfunction(a)%7Bvar%20b%3D0%3Breturn%20function()%7Breturn%20b%3Ca.length%3F%7Bdone%3A!1%2Cvalue%3Aa%5Bb%2B%2B%5D%7D%3A%7Bdone%3A!0%7D%7D%7D%3B%24jscomp.arrayIterator%3Dfunction(a)%7Breturn%7Bnext%3A%24jscomp.arrayIteratorImpl(a)%7D%7D%3B%24jscomp.makeIterator%3Dfunction(a)%7Bvar%20b%3D%22undefined%22!%3Dtypeof%20Symbol%26%26Symbol.iterator%26%26a%5BSymbol.iterator%5D%3Breturn%20b%3Fb.call(a)%3A%24jscomp.arrayIterator(a)%7D%3Bvar%20horario%3D%5B%5D%2ChorarioTable%3D%24(%22.horario-clases%20tbody%20tr%22)%3BhorarioTable.each(function(a)%7Bvar%20b%3D%7Bcode%3A%22%22%2Cname%3A%22%22%2Cgroup%3A%22%22%2Ccredits%3A-1%2Cschedule%3A%5B%5D%2Ccampus%3A%22%22%2Cteacher%3A%22%22%7D%3B%24(this).children(%22td%22).each(function(c)%7Bif(0%3D%3Dc)b.code%3D%24(this).text().trim()%3Belse%20if(1%3D%3Dc)b.name%3D%24(this).text().trim()%3Belse%20if(2%3D%3Dc)b.credits%3D%24(this).text().trim()%3Belse%20if(3%3D%3Dc)b.group%3D%24(this).text().trim()%3Belse%20if(4%3C%3Dc%26%2610%3E%3Dc)%7Bif(0%3C%24(this).children().length)%7Bvar%20f%3D%7B%7D%3Bf.day%3Dc-4%3Bf.time%3D%24(this).html().split(%22%3Cbr%3E%22)%5B0%5D%3Bf.classroom%3D%24(this).html().split(%22%3Cbr%3E%22)%5B1%5D%3Bf.type%3D%24(this).html().split(%22%3Cbr%3E%22)%5B2%5D%3Bb.schedule.push(f)%7D%7Delse%2011%3D%3Dc%3Fb.campus%3D%24(this).text().trim()%3A12%3D%3Dc%26%26(b.teacher%3D%24(this).text().trim())%7D)%3Bhorario.push(b)%7D)%3Bvar%20myTable%3Ddocument.getElementById(%22beautifulSchedule%22)%3Bif(null%3D%3DmyTable)%7Bvar%20myDiv%3Ddocument.createElement(%22div%22)%3BmyDiv.classList.add(%22wprTabla%22)%3BmyDiv.classList.add(%22table-responsive%22)%3B%24(myDiv).insertBefore(%22.wprTabla.table-responsive%22)%3B%24(myDiv).css(%22margin-bottom%22%2C%2275px%22)%3BmyTable%3Ddocument.createElement(%22table%22)%3BmyTable.id%3D%22beautifulSchedule%22%3BmyTable.classList.add(%22table%22)%3BmyDiv.appendChild(myTable)%7DmyTable.innerHTML%3Dnull%3Bvar%20headers%3D%22Hora%20Lunes%20Martes%20Miercoles%20Jueves%20Viernes%20Sabado%20Domingo%22.split(%22%20%22)%2CheadersDay%3D%5Bnull%2C0%2C1%2C2%2C3%2C4%2C5%2C6%2C7%5D%3Bfunction%20generateTableHead(a%2Cb)%7Bfor(var%20c%3Da.createTHead().insertRow()%2Cf%3D%24jscomp.makeIterator(b)%2Cd%3Df.next()%3B!d.done%3Bd%3Df.next())%7Bvar%20e%3Dd.value%3Bd%3Ddocument.createElement(%22th%22)%3B%22Hora%22!%3De%26%26(d.style.width%3D(1%2F7*90).toString()%2B%22%25%22)%3Bd.style.textAlign%3D%22center%22%3Be%3Ddocument.createTextNode(e)%3Bd.appendChild(e)%3Bc.appendChild(d)%7D%7DgenerateTableHead(myTable%2Cheaders)%3Bfunction%20time24to12(a)%7Breturn%200%3D%3Da%7C%7C24%3D%3Da%3F%2212AM%22%3A0%3Ca%26%2611%3E%3Da%3Fa.toString().padStart(2%2C%220%22)%2B%22AM%22%3A12%3D%3Da%3F%2212PM%22%3A12%3Ca%26%2624%3Ea%3F(a-12).toString().padStart(2%2C%220%22)%2B%22PM%22%3Anull%7Dfunction%20time12to24(a)%7Ba%3Da.trim().match(%2F(%5Cd%7B1%2C2%7D)(AM%7CPM)%2F)%3Bif(3!%3Da.length)return%20null%3Bvar%20b%3DparseInt(a%5B1%5D)%3Breturn%22PM%22%3D%3Da%5B2%5D%3F12%3D%3Db%3F12%3Ab%2B12%3A%22AM%22%3D%3Da%5B2%5D%3F12%3D%3Db%3F0%3Ab%3Anull%7Dfunction%20timeRangeConvert(a)%7Ba%3Da.match(%2F(%5Cd%7B2%7D(%3F%3AAM%7CPM))%20%5C%2F%20(%5Cd%7B2%7D(%3F%3AAM%7CPM))%2F)%3Breturn%203!%3Da.length%3Fnull%3A%5Btime12to24(a%5B1%5D)%2Ctime12to24(a%5B2%5D)%5D%7Dfunction%20convertClassToTime(a)%7Bfor(var%20b%3D%5B%5D%2Cc%3D0%3B24%3Ec%3Bc%2B%2B)b.push(%5B%5D)%3Ba%3D%24jscomp.makeIterator(a)%3Bfor(c%3Da.next()%3B!c.done%3Bc%3Da.next())%7Bc%3Dc.value%3Bfor(var%20f%3D%24jscomp.makeIterator(c.schedule)%2Cd%3Df.next()%3B!d.done%3Bd%3Df.next())%7Bd%3Dd.value%3Bvar%20e%3D%7B%7D%3Be.classroom%3Dd.classroom%3Be.time%3DtimeRangeConvert(d.time)%3Be.type%3Dd.type%3Be.day%3Dd.day%3Be.source%3Dc%3Bb%5Be.time%5B0%5D%5D.push(e)%7D%7Dreturn%20b%7Dfunction%20getColorPair(a)%7Bfor(var%20b%3D0%2Cc%3D0%3Bc%3Ca.length%3Bc%2B%2B)b%3Da.charCodeAt(c)%2B((b%3C%3C5)-b)%3Ba%3Db%25360%3Breturn%5B%22hsl(%22%2Ba%2B%22%2C90%25%2C95%25)%22%2C%22hsl(%22%2Ba%2B%22%2C90%25%2C20%25)%22%2C%22gray%22%5D%7Dfunction%20generateTableRows(a%2Cb%2Cc%2Cf)%7Bb%3DconvertClassToTime(b)%3Ba%3Da.createTBody()%3Bfor(var%20d%3D%5B0%2C0%2C0%2C0%2C0%2C0%2C0%5D%2Ce%3D%7B%7D%3Bc%3Cf%3Be%3D%7B%24jscomp%24loop%24prop%24days%246%3Ae.%24jscomp%24loop%24prop%24days%246%7D%2Cc%2B%2B)%7Bvar%20q%3Da.insertRow()%2Cg%3Dtime24to12(c)%2B%22%20%2F%20%22%2Btime24to12(c%2B1)%3Bg%3Ddocument.createTextNode(g)%3Bvar%20n%3Ddocument.createElement(%22td%22)%3Bn.classList.add(%22sb-cell-center%22)%3Bn.appendChild(g)%3Bq.appendChild(n)%3Be.%24jscomp%24loop%24prop%24days%246%3D%5B%5D%3Bfor(g%3D0%3B7%3Eg%3Bg%2B%2B)n%3Ddocument.createElement(%22td%22)%2Cn.classList.add(%22sb-cell-center%22)%2Ce.%24jscomp%24loop%24prop%24days%246.push(n)%3Bfor(g%3D0%3B7%3Eg%3Bg%2B%2B)0%3Cd%5Bg%5D%3Fd%5Bg%5D--%3Aq.appendChild(e.%24jscomp%24loop%24prop%24days%246%5Bg%5D)%3Bb%5Bc%5D.forEach(function(t)%7Breturn%20function(h%2Ck%2Cm)%7Bk%3Dt.%24jscomp%24loop%24prop%24days%246%5Bh.day%5D%3Bk.classList.add(%22sb-cell-center-clickable%22)%3Bk.appendChild(document.createTextNode(h.source.name))%3Bk.appendChild(document.createElement(%22br%22))%3Bk.appendChild(document.createTextNode(%22(%22%2Bh.classroom%2B%22)%22))%3Bk.title%3Dh.source.teacher%2B%22%5CnGrupo%20%22%2Bh.source.group%2B%22%5Cn%22%2Bh.source.campus%3Bk.addEventListener(%22click%22%2Cfunction(l)%7Bl%3Dh.source%3Bvar%20r%3D%22%22%3Bl.schedule.forEach(function(p)%7Br%2B%3D%22%5Cn%20-%20%22%2B%22LKMJVSD%22%5Bp.day%5D%2B%22%20%22%2Bp.time%2B%22%20%40%20%22%2Bp.classroom%2B%22%20(%22%2Bp.type%2B%22)%22%7D)%3Bnavigator.clipboard.writeText(l.name%2B%22%5CnCODIGO%3A%20%22%2Bl.code%2B%22%5CnGRUPO%3A%20%22%2Bl.group%2B%22%5CnPROF%3A%20%22%2Bl.teacher%2B%22%5Cn%22%2Bl.campus%2B%22%5CnCREDITOS%3A%20%22%2Bl.credits%2B%22%5CnHORARIO%3A%20%22%2Br)%3Balert(%22Informaci%5Cu00f3n%20de%20%22%2Bl.name%2B%22%20copiado%20al%20portapapeles.%22)%7D)%3Bm%3DgetColorPair(h.source.name)%3Bk.style.backgroundColor%3Dm%5B0%5D%3Bk.style.color%3Dm%5B1%5D%3Bk.style.borderTopColor%3Dm%5B2%5D%3Bm%3Dh.time%5B1%5D-h.time%5B0%5D%3Bk.rowSpan%3Dm%3Bd%5Bh.day%5D%2B%3Dm-1%7D%7D(e))%7D%7DgenerateTableRows(myTable%2Chorario%2C8%2C22)%3Bvar%20myCss%3Ddocument.getElementById(%22beautifulScheduleStyles%22)%3Bnull%3D%3DmyCss%26%26(myCss%3Ddocument.createElement(%22style%22)%2CmyCss.id%3D%22beautifulScheduleStyles%22%2Cdocument.head.appendChild(myCss))%3BmyCss.innerHTML%3D%22%5Cn.sb-cell-center%20%7B%5Cn%20%20%20%20word-break%3A%20break-word%3B%5Cn%20%20%20%20vertical-align%3A%20middle%20!important%3B%5Cn%20%20%20%20text-align%3A%20center%3B%5Cn%7D%5Cn.sb-cell-center-clickable%3Ahover%20%7B%5Cn%20%20%20%20filter%3A%20brightness(80%25)%3B%5Cn%7D%22%3Bvoid+0">
                UNAPEC - Horario en calendario
            </a>
            <p>
                Convierte el horario en
                <a href="https://estudiantil.unapec.edu.do/main/Academico/Horario">UNAPEC Estudiantil</a>
                a una forma parecida a los calendarios de Outlook,
                es decir, organizado por hora en vez de por materia.
            </p>
        </article>

        <article>
            <a class=bookmarklet
                href="javascript:var%20%24jscomp%3D%24jscomp%7C%7C%7B%7D%3B%24jscomp.scope%3D%7B%7D%3B%24jscomp.arrayIteratorImpl%3Dfunction(a)%7Bvar%20c%3D0%3Breturn%20function()%7Breturn%20c%3Ca.length%3F%7Bdone%3A!1%2Cvalue%3Aa%5Bc%2B%2B%5D%7D%3A%7Bdone%3A!0%7D%7D%7D%3B%24jscomp.arrayIterator%3Dfunction(a)%7Breturn%7Bnext%3A%24jscomp.arrayIteratorImpl(a)%7D%7D%3B%24jscomp.makeIterator%3Dfunction(a)%7Bvar%20c%3D%22undefined%22!%3Dtypeof%20Symbol%26%26Symbol.iterator%26%26a%5BSymbol.iterator%5D%3Breturn%20c%3Fc.call(a)%3A%24jscomp.arrayIterator(a)%7D%3Bvar%20courseInformation%3D%5B%5D%3Balert(%22Mostrar%20cupos%20activado%22)%3B%24(%22tr%5Bname%20%5E%3D%20'trOferta'%5D%20td%20input%5Bname%20%5E%3D%20'chk'%5D%22).on(%22change%22%2Cfunction()%7Breturn%20checkVisibility()%7D)%3Bfunction%20checkVisibility()%7Bvar%20a%3DsetInterval(function()%7B%24(%22%23ImgLoading%22).is(%22%3Avisible%22)%7C%7C(clearInterval(a)%2CcourseInformation%3D%5B%5D%2Cinit())%7D%2C100)%7Dfunction%20init()%7B%24(%22tr%5Bname%5E%3D'TRHorario'%5D%20input%5Bname%5E%3D'chk'%5D%22).each(function(c%2Cd)%7Bvar%20b%3D%24(d).attr(%22onclick%22)%3Bb%26%26(b%3Db.split(%22%26%22)%2CparseUrl(b))%7D)%3Bvar%20a%3D%24(%22%23tableOferta%20thead%20tr%22).get(0).insertCell()%3Ba.classList.add(%22th%22)%3Ba.style.width%3D%22332px%22%3Ba.style.textAlign%3D%22center%22%3Ba.innerText%3D%22Cupos%22%3B%24(%22tr%5Bname%20%5E%3D%20'TRHorario'%5D%22).get().forEach(function(c%2Cd)%7Bvar%20b%3Dc.insertCell()%3Bb.style.textAlign%3D%22center%22%3Bvar%20e%3DcourseInformation%5Bd%5D%3Be%26%26(b.innerText%3De.disponibles.toString()%7C%7C%22%22)%7D)%7Dfunction%20parseUrl(a)%7Ba%3DextractData(a)%3BcourseInformation.push(a)%7Dfunction%20extractData(a)%7Bvar%20c%3D%5B%22disponibles%22%5D%2Cd%3D%7B%7D%3Ba%3D%24jscomp.makeIterator(a)%3Bfor(var%20b%3Da.next()%3B!b.done%3Bb%3Da.next())f%3Db.value.split(%22%3D%22)%2Cc.includes(f%5B0%5D)%26%26(d%5Bf%5B0%5D%5D%3Df%5B1%5D)%3Breturn%20d%7D%3Bvoid+0">
                UNAPEC - Mostrar Cupos
            </a>
            <p>
                Una vez activado en la 
                <a href="https://virtual.unapec.edu.do/Estudiantes/Matricula.aspx">Plataforma de Inscripción de Asignaturas</a>,
                se agrega una nueva columna que indica los cupos disponibles en cada grupo. 
            </p>
        </article>
    </div>

</body>

</html>